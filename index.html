<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Torre da Redenção - RPG text-based de exploração e combate">
    <meta name="theme-color" content="#FFD700">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title>Torre da Redenção</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="/jogo/manifest.json">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="/jogo/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="/jogo/icons/icon-512.png">
    </head>
<body>
    <div id="game-container">
        <!-- Título do Jogo -->
        <h1 id="game-title">🏰 Torre da Redenção</h1>
        
        <!-- Painel de Histórico -->
        <div id="history-panel" role="log" aria-live="polite" aria-label="Histórico do jogo">
            <!-- Histórico será preenchido pelo JavaScript -->
        </div>
        
        <!-- Painel de Status do Jogador -->
        <div class="status-panel" aria-label="Status do jogador">
            <!-- Barra de XP -->
            <div id="xp-bar" aria-label="Experiência">
                <div class="bar-container">
                    <div class="bar-fill" style="width: 0%; background-color: #4caf50;"></div>
                </div>
                XP: 0/100
            </div>
            
            <!-- Level -->
            <div id="level">Level: 1</div>
            
            <!-- Barras de Status Principais -->
            <div id="health-bar" aria-label="Pontos de Vida">
                <div class="bar-container">
                    <div class="bar-fill" style="width: 100%; background-color: #f44336;"></div>
                </div>
                ❤️ HP: 50/50
            </div>
            
            <div id="mana-bar" aria-label="Pontos de Mana">
                <div class="bar-container">
                    <div class="bar-fill" style="width: 100%; background-color: #673ab7;"></div>
                </div>
                🟣 MP: 30/30
            </div>
            
            <div id="energy-bar" aria-label="Energia">
                <div class="bar-container">
                    <div class="bar-fill" style="width: 100%; background-color: #ff9800;"></div>
                </div>
                ⚡ Energia: 80/80
            </div>
            
            <div id="sanity-bar" aria-label="Sanidade">
                <div class="bar-container">
                    <div class="bar-fill" style="width: 100%; background-color: #00bcd4;"></div>
                </div>
                🌌 Sanidade: 50/50
            </div>
            
            <!-- Stats Secundários -->
            <div class="secondary-stats">
                <div>⚔️ Ataque: 8</div>
                <div>🛡️ Defesa: 4</div>
                <div>🎯 Precisão: 85%</div>
                <div>💨 Agilidade: 15</div>
            </div>
        </div>
        
        <!-- Painel do Inimigo (oculto inicialmente) -->
        <div id="enemy-panel" style="display: none; opacity: 0;" aria-label="Status do inimigo">
            <h3>👹 Inimigo</h3>
            <div id="enemy-hp-bar" aria-label="Vida do inimigo">
                <!-- Preenchido pelo JavaScript -->
            </div>
            <div id="enemy-secondary-stats">
                <!-- Preenchido pelo JavaScript -->
            </div>
        </div>
        
        <!-- Painel de Opções -->
        <div id="options-panel" role="group" aria-label="Opções de ação">
            <button type="button" disabled aria-label="Primeira opção">-</button>
            <button type="button" disabled aria-label="Segunda opção">-</button>
            <button type="button" disabled aria-label="Terceira opção">-</button>
        </div>
        
        <!-- Botões Principais -->
        <button id="start-button" type="button" aria-label="Iniciar jogo">🎮 Iniciar</button>
        <button id="explore-button" type="button" style="display: none;" aria-label="Explorar">🔍 Explorar</button>
    </div>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then(registration => {
                        console.log('SW registrado com sucesso:', registration.scope);
                    })
                    .catch(registrationError => {
                        console.log('SW falhou ao registrar:', registrationError);
                    });
            });
        }
    </script>

    <!-- Carregamento dos Módulos JavaScript -->
    <script type="module" src="game.js"></script>
</body>
</html>