<!-- =====================[ TRECHO 1: DOCUMENTO & HEAD ]===================== -->
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <!-- [CHANGE][WHY] usar largura real do device + bloquear zoom do usuÃ¡rio -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Torre da RedenÃ§Ã£o</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- [DOC] PWA Manifest + cor de tema para barra do SO -->
  <meta name="theme-color" content="#0f0f0f" />
  <link rel="manifest" href="manifest.json" />
</head>
<!-- =====================[ FIM TRECHO 1 ]===================== -->

<body>
  <!-- =====================[ TRECHO 2: OVERLAY DE LANDSCAPE (BLOQUEIO) ]===================== -->
  <!-- [DOC] CSS-only: sem ARIA dinÃ¢mica para nÃ£o conflitar sem JS. -->
  <div class="rotate-overlay">
    <div class="rotate-card">
      <div class="rotate-emoji" aria-hidden="true">ðŸ“±â†»</div>
      <p>Gire o dispositivo para <strong>retrato</strong>.</p>
    </div>
  </div>
  <!-- =====================[ FIM TRECHO 2 ]===================== -->

  <!-- =====================[ TRECHO 3: STAGE & CONTAINER 360x800 ]===================== -->
  <main class="stage">
    <section class="game" aria-label="ProtÃ³tipo de interface">

      <!-- =====================[ TRECHO 4: HEADER + XP (3 COLUNAS) ]===================== -->
      <header class="toprow" aria-label="Topo do jogo">
        <div class="level" aria-label="NÃ­vel atual">Level <strong>99</strong></div>

        <div class="xp-stack" aria-label="ExperiÃªncia">
          <div class="xp-label" aria-hidden="true">0/100</div>
          <div class="xp-bar" role="progressbar" aria-label="Barra de XP" aria-valuemin="0" aria-valuemax="1000" aria-valuenow="0">
            <div class="xp-fill" style="width:0%"></div>
          </div>
        </div>

        <button class="icon-btn" type="button" aria-label="Menu" title="Menu" disabled>â˜°</button>
      </header>
      <!-- =====================[ FIM TRECHO 4 ]===================== -->

      <!-- =====================[ TRECHO 5: STATS PRINCIPAIS (VIDA/MANA/ENERGIA/SANIDADE) ]===================== -->
      <section class="stats-grid" aria-label="Atributos principais do jogador">
        <article class="stat-card">
          <div class="stat-head"><span class="stat-name">VIDA</span><span class="stat-val">100/100</span></div>
          <div class="bar" role="progressbar" aria-label="Vida" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
            <div class="fill life" style="width:100%"></div>
          </div>
        </article>

        <article class="stat-card">
          <div class="stat-head"><span class="stat-name">MANA</span><span class="stat-val">100/100</span></div>
          <div class="bar" role="progressbar" aria-label="Mana" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
            <div class="fill mana" style="width:100%"></div>
          </div>
        </article>

        <article class="stat-card">
          <div class="stat-head"><span class="stat-name">ENERGIA</span><span class="stat-val">100/100</span></div>
          <div class="bar" role="progressbar" aria-label="Energia" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
            <div class="fill energy" style="width:100%"></div>
          </div>
        </article>

        <article class="stat-card">
          <div class="stat-head"><span class="stat-name">SANIDADE</span><span class="stat-val">100/100</span></div>
          <div class="bar" role="progressbar" aria-label="Sanidade" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
            <div class="fill sanity" style="width:100%"></div>
          </div>
        </article>
      </section>
      <!-- =====================[ FIM TRECHO 5 ]===================== -->

      <!-- =====================[ TRECHO 6: STATUS DO JOGADOR (ATAQUE/DEFESA/PRECISÃƒO/AGILIDADE) ]===================== -->
      <section class="secstats" aria-label="Status do jogador">
        <div class="secstats-grid">
          <button class="stat-chip stat-chip--atk" type="button" aria-label="Ataque" disabled></button>
          <button class="stat-chip stat-chip--def" type="button" aria-label="Defesa" disabled></button>
          <button class="stat-chip stat-chip--acc" type="button" aria-label="PrecisÃ£o" disabled></button>
          <button class="stat-chip stat-chip--agi" type="button" aria-label="Agilidade" disabled></button>
        </div>
      </section>
      <!-- =====================[ FIM TRECHO 6 ]===================== -->

      <!-- =====================[ TRECHO 7: PAINEL DE SALA / INIMIGO ]===================== -->
      <section class="room room--info" aria-label="Sala atual">
        <h2 class="room-title" aria-live="polite">Sala Vazia</h2>

        <!-- CartÃ£o do inimigo (visÃ­vel apenas quando o atributo [hidden] for removido via JS) -->
        <article class="enemy-card" hidden>
          <!-- [DOC] enemy-head Ã© um *hook* de layout futuro; hoje nÃ£o hÃ¡ estilo especÃ­fico. -->
          <div class="enemy-head">
            <div class="enemy-name" aria-live="polite">Inimigo</div>
            <div class="enemy-hp" role="progressbar" aria-label="HP do inimigo" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100">
              <div class="fill hp" style="width:100%"></div>
            </div>
          </div>

          <div class="enemy-stats">
            <div class="secstats-grid" aria-label="Status do inimigo">
              <div class="stat-chip stat-chip--atk" title="Ataque do inimigo" aria-label="Ataque do inimigo">0</div>
              <div class="stat-chip stat-chip--def" title="Defesa do inimigo" aria-label="Defesa do inimigo">0</div>
              <div class="stat-chip stat-chip--acc" title="PrecisÃ£o do inimigo" aria-label="PrecisÃ£o do inimigo">0</div>
              <div class="stat-chip stat-chip--agi" title="Agilidade do inimigo" aria-label="Agilidade do inimigo">0</div>
            </div>
          </div>
        </article>
      </section>
      <!-- =====================[ FIM TRECHO 7 ]===================== -->

      <!-- =====================[ TRECHO 7.1: RUNLINE (DIA / ANDAR) ]===================== -->
      <section class="runline" aria-label="Resumo da run (Dia e Andar)">
        <span class="runline-day">Dia 1</span>
        <span class="runline-floor">Andar 1</span>
      </section>
      <!-- =====================[ FIM TRECHO 7.1 ]===================== -->

      <!-- =====================[ TRECHO 8: AÃ‡Ã•ES PRINCIPAIS ]===================== -->
      <!-- [DOC] Os quatro botÃµes abaixo sÃ£o **slots de aÃ§Ã£o**. IDs fixos indicam APENAS a posiÃ§Ã£o (1â€“4).
           O significado (rÃ³tulo e efeito) Ã© definido dinamicamente pelo JS conforme a sala. -->
      <section class="actions" aria-label="AÃ§Ãµes principais">
        <button id="act-1" class="btn" type="button" disabled>???</button>
        <button id="act-2" class="btn" type="button" disabled>???</button>
        <button id="act-3" class="btn" type="button" disabled>???</button>
        <button id="act-4" class="btn btn-primary" type="button">EXPLORAR</button>
      </section>
      <!-- =====================[ FIM TRECHO 8 ]===================== -->

      <!-- =====================[ TRECHO 9: LOG (4 LINHAS, SEM SCROLL) ]===================== -->
      <section class="log" aria-label="Mensagens">
        <div class="log-view" role="log" aria-live="polite">
          <div class="log-line" title="Mensagem de log um">Mensagem de log um</div>
          <div class="log-line" title="Mensagem de log dois">Mensagem de log dois</div>
          <div class="log-line" title="Mensagem de log trÃªs">Mensagem de log trÃªs</div>
          <div class="log-line" title="Mensagem de log quatro">Mensagem de log quatro</div>
        </div>
      </section>
      <!-- =====================[ FIM TRECHO 9 ]===================== -->
       
      <!-- =====================[ TRECHO 9B: MODAL â€” HISTÃ“RICO DE LOGS (50vh, sem tÃ­tulo) ]===================== -->
      <!-- [DOC] Overlay com dialog rolÃ¡vel (50vh), largura igual ao painel de log, e botÃ£o redondo abaixo. -->
      <div class="modal-overlay" id="log-modal" aria-hidden="true" hidden>
        <div class="modal-dialog" role="dialog" aria-modal="true" aria-label="HistÃ³rico de logs">
          <div class="modal-body" id="log-modal-body" tabindex="0" aria-label="HistÃ³rico de mensagens"></div>
        </div>
        <button type="button" class="modal-close modal-close-round" aria-label="Fechar">âœ•</button>
      </div>
      <!-- =====================[ FIM TRECHO 9B ]===================== -->

      <!-- =====================[ TRECHO 10: ADS / PROMO INTERNA ]===================== -->
      <section class="ads" aria-label="EspaÃ§o promocional">ADS</section>
      <!-- =====================[ FIM TRECHO 10 ]===================== -->

      <!-- =====================[ TRECHO 11: Scripts ]===================== -->
      <!-- [CHANGE][DOC] MÃ³dulo de idiomas 100% offline (sem fetch/XHR), aplica traduÃ§Ãµes no boot -->
      <script src="i18n.js" defer></script>
      <script src="ui.js" defer></script>
      <script src="game.js" defer></script>
      
      <!-- [DOC] Registro do Service Worker para PWA offline (escopo relativo Ã  pasta atual) -->
      <script>
      (function() {
        if ('serviceWorker' in navigator && location.protocol.startsWith('http')) {
          window.addEventListener('load', function() {
            try {
              navigator.serviceWorker.register('./sw.js', { scope: './' });
            } catch (e) {
              /* silencioso por design */
            }
          });
        }
      })();
      </script>
      <!-- =====================[ FIM TRECHO 11 ]===================== -->

    </section>
  </main>
</body>
</html>
